<section id="signing-maintenance-tasks">
 <title>Maintenance Tasks</title>
 <para>Zone data is signed, parent zone has published your DS records, at this
 point your zone is officially secure. When other validating resolvers lookup
 information in your zone, they are able to follow the 12-step process as
 described in <xref linkend="how-does-dnssec-change-dns-lookup-revisited" />
 and verify the authenticity and integrity of the answers.</para>

 <para>There is not that much left for you to do, as the DNS administrator, at
 an ongoing basis. Whenever you update your zone, BIND will automatically
 resign your zone with new RRSIG and NSEC or NSEC3 records, and even increment
 the serial number for you.</para>

 <para>That leaves DNSKEY records. Just like passwords and underwear, keys need
 to be changed periodically. If you followed the examples in this guide with
 inline signing and automatic key management, the recurring tasks you need to
 perform are very limited. You should change your ZSK pair annually, and your
 KSK pair  every five years. This is also known as a key rollover.</para>

 <para>Why annually for the ZSK? That's just a convenient length of time that
 probably coincides with your domain name registration/renewal cycle; And every
 five years? That's also a generic length of time, one which happens to be the
 same as the root key's rollover schedule. Some people feel or have the need to
 do it more frequently, while some argue that there is no need for key rolling.
 We discuss those considerations in <xref linkend="key-rollovers" />. But
 assuming you do not have special security requirements, nor do you host a
 high valued zone, rotating your ZSK every year and KSK every five years
 should suffice.</para>


 <!-- ====== ZSK Rollover Example ====== -->
 <section id="maintenance-tasks-zsk-rollover">
  <title>ZSK Rollover</title>

  <para>Assuming you are rolling over ZSK every year on January 1st, below is
  the timeline of what should happen:</para>

  <orderedlist>
   <listitem>
    <simpara>December 1st, a month before rollover date</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Change timer on current ZSK</simpara>
     </listitem>
     <listitem>
      <simpara>Generate new ZSK</simpara>
     </listitem>
     <listitem>
      <simpara>Publish new DNSKEY</simpara>
     </listitem>
    </itemizedlist>
   </listitem>

   <listitem>
    <simpara>January 1st, day of rollover</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Use existing KSK to sign DNSKEY, this generates new RRSIG</simpara>
     </listitem>
     <listitem>
      <simpara>Add new RRSIG to the zone</simpara>
     </listitem>
     <listitem>
      <simpara>Remove RRSIG for old key from zone</simpara>
     </listitem>
    </itemizedlist>
   </listitem>

   <listitem>
    <simpara>February 1st, a month after rollover date</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Remove old key DNSKEY from zone</simpara>
     </listitem>
    </itemizedlist>
   </listitem>
  </orderedlist>

  <para>This may look like a lot of work, but with
  <varname>inline-signing</varname> and <varname>auto-dnssec</varname>, a most
  of these are automated. The only thing that needs to be done manually re just
  the first two items:</para>

  <itemizedlist>
   <listitem><simpara>Change timer on current ZSK</simpara></listitem>
   <listitem><simpara>Generate new ZSK</simpara></listitem>
  </itemizedlist>

  <para>To see an example of the exact commands and steps to execute for a ZSK
  rollover, please see <xref linkend="recipes-zsk-rollover" />.</para>
 </section>


 <!-- ====== KSK Rollover Example ====== -->
 <section id="maintenance-tasks-ksk-rollover">
  <title>KSK Rollover</title>
  <para>KSK rollover is very similar to ZSK, with the addition of interacting
  with the parent zone. In fact, as you can see below, the timeline looks
  nearly identical to the ZSK rollover, with the addition of interaction with
  parent zone:</para>

  <orderedlist>
   <listitem>
    <simpara>December 1st, a month before rollover date</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Change timer on current KSK</simpara>
     </listitem>
     <listitem>
      <simpara>Generate new KSK and DS records</simpara>
     </listitem>
     <listitem>
      <simpara>Upload new DS records to parent zone</simpara>
     </listitem>
    </itemizedlist>
   </listitem>

   <listitem>
    <simpara>January 1st, day of rollover</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Use new KSK to sign all DNSKEY RRset, this generates new RRSIGs</simpara>
     </listitem>
     <listitem>
      <simpara>Add new RRSIGs to the zone</simpara>
     </listitem>
     <listitem>
      <simpara>Remove old RRSIGs from zone</simpara>
     </listitem>
    </itemizedlist>
   </listitem>

   <listitem>
    <simpara>February 1st, a month after rollover date</simpara>
    <itemizedlist>
     <listitem>
      <simpara>Remove old KSK DNSKEY from zone</simpara>
     </listitem>
     <listitem>
      <simpara>Remove old DS records from parent zone</simpara>
     </listitem>
    </itemizedlist>
   </listitem>
  </orderedlist>

  <para>Unfortunately, as of this writing, KSK rollover involves a lot of
  manual steps. As described above, the only automated tasks are the ones that
  occur on the day of the rollover (January 1st), everything else needs to be
  done manually. To see an example of how to perform a KSK rollover, please see
  <xref linkend="recipes-ksk-rollover" />.</para>

 </section>
</section>
