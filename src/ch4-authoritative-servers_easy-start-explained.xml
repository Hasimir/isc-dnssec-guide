<section id="signing-easy-start-explained">
 <title>Signing Easy Start Explained</title> 

 <!-- === Reconfigure BIND Explained === -->
 <section id="signing-reconfigure-bind-explained">
  <title>Reconfigure BIND Explained</title>
  <para>In <xref linkend="signing-easy-start-reconfigure-bind"/>, we highlighted a few lines, let's explain what each one of them does.
   <screen>options {
    <userinput>dnssec-enable yes;</userinput>
    directory "/etc/bind";
    recursion no;
    minimal-responses yes;
};

zone "example.com" IN {
    type master;
    file "db/example.com.db";
    <userinput>key-directory "keys/example.com";
    inline-signing yes;
    auto-dnssec maintain;</userinput>
};</screen></para>

  <!-- ====== dnssec-enable ====== -->
  <section id="signing-dnssec-enable-explained">
   <title>dnssec-enable</title>
   <screen>options {
    dnssec-enable yes;
};</screen>
   <para>This line enables DNSSEC support in <code>named</code>. If not set, named behaves as if it does not support DNSSEC. The default is yes. We are just explicitly declaring it again here, in case your distribution has it disabled.</para>
  </section>

  <!-- ====== key-directory ====== -->
  <section id="signing-key-directory-explained">
   <title>key-directory</title>
   <screen>zone "example.com" IN {
    key-directory "keys/example.com";
};</screen>
   <para>This specifies where <code>named</code> should look for public and private DNSSEC key files. The default is the current working directory. In our example, we organized keys based on zone names, and placed all keys for <code>example.com</code> under one directory <code>/etc/bind/keys/example.com</code>.</para>
  </section>
 
  <!-- ====== inline-signing ====== -->
  <section id="signing-inline-signing-explained">
   <title>inline-signing</title>
   <screen>zone "example.com" IN {
    inline-signing yes;
};</screen>
   <para>This option is disabled by default. When enabled, BIND converts traditional (insecure) zone data to signed (secure) data automatically and transparently, using keys found in <code>key-directory</code>.</para>

   <para>This feature alleviates the burden of resigning zone data put on DNSSEC zone administrators. As the zone administrator, you can continue to manually maintain the unsigned version of the zone just like before, and BIND will automatically convert the the zone into a dynamic zone, sign it on the fly, and incrementing serial number automatically for the signed version of the zone. The unsigned version of the zone is left intact.</para>

   <para>To learn more about inline signing and some examples of using it in your DNSSEC deployment strategy, please see <ulink url="https://kb.isc.org/article/AA-00626">Inline Signing in ISC BIND 9.9.0 -- Examples</ulink>.</para>
  </section>

  <!-- ====== auto-dnssec ====== -->
  <section id="signing-auto-dnssec-explained">
   <title>auto-dnssec</title>
   <screen>zone "example.com" IN {
    auto-dnssec maintain;
};</screen>
   <para>With keys, comes the burden of key management. Just like passwords and underwear, keys need to be changed periodically. This is sometimes called "key rollover". <code>auto-dnssec</code> provides varying levels of automatic key management. There are three possible settings:
    <orderedlist>
     <!-- #1 -->
     <listitem>
      <simpara><emphasis>off</emphasis>: this is the default, key management is done manually</simpara>
     </listitem>

     <!-- #2 -->
     <listitem>
      <simpara><emphasis>allow</emphasis>: permits keys to be updated and the zone fully re-signed whenever the user issues the command rndc sign zonename.</simpara>
     </listitem>

     <!-- #3 -->
     <listitem>
      <simpara><emphasis>maintain</emphasis>: includes what "allow" has, but also automatically adjusts the zone's DNSSEC keys on schedule, according to the key's timing metadata.</simpara>
     </listitem>
    </orderedlist></para>

    <para>We have opted for the "maintain" mode in our example, which provides the most automated key management. With this option enabled, BIND will periodically check to see if new keys are available, or old keys need to be retired, and automatically add or remove the appropriate DNSKEY records from the zone. The frequency of the check can be controlled via <code>dnssec-loadkeys-interval</code>, default is 60 minutes (1 hour).</para>
  </section>

  <!-- TODO: jkuo  Sat Oct 25 01:21:44 UTC 2014
       Need to write a section on manually management in the Advanced Discussion section
       that covers these two areas:
       1) No auto-dnssec (no key management)
       2) No inline-signing (manual signing, need to discuss dnssec-signzone)
  -->
  <note>
   <para>If you don't like all this auto-magic of inline signing and key rollovers, see the section on "Manual Management".</para>
  </note>
 </section>

 <!-- === Generate Keys Explained === -->
 <section id="signing-generate-keys-explained">
  <title>Generate Keys Explained</title>
 </section>
</section>
